"File: hal_adc.c     Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Fri May 27 15:23:55 2022
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 17
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [17]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
"File: hal_adc.ASM   Assembler  Version HGASM0202      Page 2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___sadc1 equ [35]
  70  0000              ___sadc0 equ [34]
  71  0000              ___pbs0 equ [93]
  72  0000              ___pas1 equ [92]
  73  0000              ___pbs1 equ [94]
  74  0000              ___pds0 equ [97]
  75  0000              public _adc_selectChannel
  76  0000              #pragma debug scope 2 1

  18  0000              #line 18 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  18  0000              _adc_selectChannel .section 'code'
  18  0000              _adc_selectChannel proc
  18  0000  00              local _adc_selectChannel_2 db 1 dup(?)	; 0,1
  18  0000  0080     R  	mov _adc_selectChannel_2[0],a
  18  0001              #pragma debug variable 8 2 _adc_selectChannel_2+0 "ADC_Channel"
  19  0001              #line 19 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  19  0001  0F0F        	mov a,15
  19  0002  06A3        	andm a,[35]
  21  0003              #line 21 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  21  0003  0F0A        	mov a,10
  21  0004  0200     R  	sub a,_adc_selectChannel_2[0]
  21  0005  380A        	snz c
  21  0006  2800     R  	jmp _L2
  23  0007              #line 23 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  23  0007  0FF0        	mov a,240
  23  0008  06A2        	andm a,[34]
  25  0009              #line 25 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  25  0009  0700     R  	mov a,_adc_selectChannel_2[0]
  25  000A  05A2        	orm a,[34]
  27  000B              #line 27 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  27  000B  0700     R  	mov a,_adc_selectChannel_2[0]
  27  000C  0A01        	sub a,1
  27  000D  3D0A        	sz z
  27  000E  2800     R  	jmp _L4
  27  000F  0A01        	sub a,(2)-(1)
  27  0010  3D0A        	sz z
  27  0011  2800     R  	jmp _L5
  27  0012  0700     R  	mov a,_adc_selectChannel_2[0]
  27  0013  0A03        	sub a,3
  27  0014  3D0A        	sz z
  27  0015  2800     R  	jmp _L6
  27  0016  0A01        	sub a,(4)-(3)
  27  0017  3D0A        	sz z
  27  0018  2800     R  	jmp _L7
  27  0019  0700     R  	mov a,_adc_selectChannel_2[0]
  27  001A  0A05        	sub a,5
  27  001B  3D0A        	sz z
  27  001C  2800     R  	jmp _L8
  27  001D  0A01        	sub a,(6)-(5)
  27  001E  3D0A        	sz z
  27  001F  2800     R  	jmp _L9
"File: hal_adc.c     Assembler  Version HGASM0202      Page 3

  27  0020  0700     R  	mov a,_adc_selectChannel_2[0]
  27  0021  0A07        	sub a,7
  27  0022  3D0A        	sz z
  27  0023  2800     R  	jmp _L10
  27  0024  0A01        	sub a,(8)-(7)
  27  0025  3D0A        	sz z
  27  0026  2800     R  	jmp _L11
  27  0027  0700     R  	mov a,_adc_selectChannel_2[0]
  27  0028  0A09        	sub a,9
  27  0029  3D0A        	sz z
  27  002A  2800     R  	jmp _L12
  27  002B  0A01        	sub a,(10)-(9)
  27  002C  3D0A        	sz z
  27  002D  2800     R  	jmp _L13
  30  002E              #line 30 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  30  002E  30DD        	set [93].1
  30  002F  345D        	clr [93].0
  31  0030              #line 31 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  31  0030  2800     R  	jmp _L1
  31  0031              _L4:
  34  0031              #line 34 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  34  0031  31DD        	set [93].3
  34  0032  355D        	clr [93].2
  35  0033              #line 35 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  35  0033  2800     R  	jmp _L1
  35  0034              _L5:
  38  0034              #line 38 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  38  0034  32DD        	set [93].5
  38  0035  325D        	set [93].4
  39  0036              #line 39 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  39  0036  2800     R  	jmp _L1
  39  0037              _L6:
  42  0037              #line 42 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  42  0037  30DC        	set [92].1
  42  0038  305C        	set [92].0
  43  0039              #line 43 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  43  0039  2800     R  	jmp _L1
  43  003A              _L7:
  46  003A              #line 46 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  46  003A  31DC        	set [92].3
  46  003B  355C        	clr [92].2
  47  003C              #line 47 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  47  003C  2800     R  	jmp _L1
  47  003D              _L8:
  50  003D              #line 50 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  50  003D  32DC        	set [92].5
  50  003E  365C        	clr [92].4
  51  003F              #line 51 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  51  003F  2800     R  	jmp _L1
  51  0040              _L9:
  54  0040              #line 54 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  54  0040  33DC        	set [92].7
  54  0041  335C        	set [92].6
  55  0042              #line 55 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  55  0042  2800     R  	jmp _L1
  55  0043              _L10:
  58  0043              #line 58 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  58  0043  33DD        	set [93].7
  58  0044  335D        	set [93].6
  59  0045              #line 59 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
"File: hal_adc.c     Assembler  Version HGASM0202      Page 4

  59  0045  2800     R  	jmp _L1
  59  0046              _L11:
  62  0046              #line 62 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  62  0046  30DE        	set [94].1
  62  0047  305E        	set [94].0
  63  0048              #line 63 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  63  0048  2800     R  	jmp _L1
  63  0049              _L12:
  66  0049              #line 66 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  66  0049  33E1        	set [97].7
  66  004A  3361        	set [97].6
  67  004B              #line 67 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  67  004B  2800     R  	jmp _L1
  67  004C              _L13:
  70  004C              #line 70 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  70  004C  32E1        	set [97].5
  70  004D  3261        	set [97].4
  71  004E              #line 71 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  71  004E  2800     R  	jmp _L1
  71  004F              _L2:
  84  004F              #line 84 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  84  004F  0700     R  	mov a,_adc_selectChannel_2[0]
  84  0050  05A3        	orm a,[35]
  84  0051              _L1:
  84  0051  0003        	ret
  84  0052              _adc_selectChannel endp
  84  0052              #line 84 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  84  0052              #pragma debug scope 1 1
  84  0052              ___sadc2 equ [36]
  84  0052              public _adc_init
  84  0052              #pragma debug scope 3 1
   4  0052              #line 4 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   4  0000              _adc_init .section 'code'
   4  0000              _adc_init proc
   5  0000              #line 5 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   5  0000  3523        	clr [35].2
   5  0001  34A3        	clr [35].1
   5  0002  3423        	clr [35].0
   6  0003              #line 6 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   6  0003  32A2        	set [34].5
   7  0004              #line 7 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   7  0004  37A3        	clr [35].7
   7  0005  3723        	clr [35].6
   7  0006  36A3        	clr [35].5
   7  0007  3623        	clr [35].4
   8  0008              #line 8 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   8  0008  3222        	set [34].4
   9  0009              #line 9 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
   9  0009  35A4        	clr [36].3
   9  000A  35A4        	clr [36].3
  12  000B              #line 12 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  12  000B  0F02        	mov a,2
  12  000C  2000     R  	call _adc_selectChannel
  14  000D              #line 14 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  14  000D  0FE8        	mov a,-24
  14  000E  0080     E  	mov _delay_2[0],a
  14  000F  0F03        	mov a,3
  14  0010  0080     E  	mov _delay_2[1],a
  14  0011  2000     E  	call _delay
  14  0012  0003        	ret
"File: hal_adc.c     Assembler  Version HGASM0202      Page 5

  14  0013              _adc_init endp
  14  0013              #line 14 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  14  0013              #pragma debug scope 1 1
  14  0013              ___vbgrc equ [74]
  14  0013              ___sadoh equ [33]
  14  0013              ___sadol equ [32]
  14  0013              public _adc_getValue
  14  0013              #pragma debug scope 4 1
  89  0013              #line 89 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  89  0000              _adc_getValue .section 'code'
  89  0000              _adc_getValue proc
  90  0000              #line 90 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  90  0000  304A        	set [74].0
  92  0001              #line 92 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  92  0001  37A2        	clr [34].7
  92  0002  33A2        	set [34].7
  92  0003  37A2        	clr [34].7
  92  0004              _L19:
  94  0004              #line 94 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  94  0004  3F22        	sz [34].6
  94  0005  2800     R  	jmp _L19
  98  0006              #line 98 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  98  0006  0721        	mov a,[33]
  98  0007  0080     E  	mov rd,a
  98  0008  0720        	mov a,[32]
  98  0009  0080     E  	mov ra,a
 105  000A              #line 105 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
 105  000A  344A        	clr [74].0
  98  000B              #line 98 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
  98  000B  0700     E  	mov a,rd
  98  000C  0080     E  	mov rc,a
  98  000D  1F00     E  	clr rb
 107  000E              #line 107 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
 107  000E  0700     E  	mov a,rc
 107  000F  0080     E  	mov re,a
 107  0010  0700     E  	mov a,ra
 107  0011  0500     E  	or a,rb
 107  0012  0080     E  	mov rd,a
 107  0013  0700     E  	mov a,rd
 107  0014  0080     E  	mov ra,a
 107  0015  0700     E  	mov a,re
 107  0016  0080     E  	mov rb,a
 107  0017  0003        	ret
 107  0018              _adc_getValue endp
 107  0018              #line 107 "c:\users\user\documents\htk_project\3652_adc_test_vib_1\hal_adc.c"
 107  0018              #pragma debug scope 1 1
 107  0018              #pragma debug variable 8 1 ___sadol "__sadol" 1
 107  0018              #pragma debug variable 8 1 ___sadoh "__sadoh" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 43 1 ___sadc0 "__sadc0" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 45 1 ___sadc1 "__sadc1" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
"File: hal_adc.c     Assembler  Version HGASM0202      Page 6

 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 47 1 ___sadc2 "__sadc2" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 49 1 ___vbgrc "__vbgrc" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 51 1 ___pas1 "__pas1" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 53 1 ___pbs0 "__pbs0" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 55 1 ___pbs1 "__pbs1" 1
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug struct_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug union_end
 107  0018              #pragma debug variable 57 1 ___pds0 "__pds0" 1
 107  0018              extern _delay_2:byte
 107  0018              extern _delay:near
 107  0018              
 107  0018              ; 
 107  0018              ; Generated by holtek-gcc v3.19, Fri May 27 15:23:55 2022
 107  0018              ; Rebuild 718
 107  0018              ; end of file


        0 Errors, 0